/* Animations & Keyframes */

@keyframes spin { 
  to { 
    transform: rotate(360deg); 
  } 
}

@keyframes fadeIn { 
  from { 
    opacity: 0; 
  } 
  to { 
    opacity: 1; 
  } 
}

@keyframes typingBlink {
  0% { 
    opacity: .2; 
    transform: translateY(0px); 
  }
  50% { 
    opacity: 1; 
    transform: translateY(-2px); 
  }
  100% { 
    opacity: .2; 
    transform: translateY(0px); 
  }
}

/* Theme Transition Animation */
@keyframes themeTransition {
  0% {
    opacity: 0.95;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}

/* Smooth Theme Change */
body {
  animation: themeTransition 0.3s ease-in-out;
}

/* Pulse Animation for Active Theme */
@keyframes pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

/* Glow Animation */
@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 5px var(--glow-primary);
  }
  50% {
    box-shadow: 0 0 20px var(--glow-primary), 0 0 30px var(--glow-secondary);
  }
}

/* Slide In Animation */
@keyframes slideIn {
  from {
    transform: translateX(-10px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Scale In Animation */
@keyframes scaleIn {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* ðŸ‘» HORROR TYPING EFFECTS - Halloween Special */

/* Ghost writing effect */
.horror-typing {
  display: block;
  font-family: 'Creepster', cursive;
  font-size: 1.05em;
  letter-spacing: 1.5px;
  line-height: 1.8;
  color: var(--text-primary);
  text-shadow: 
    0 0 10px rgba(139, 92, 246, 0.5),
    0 0 20px rgba(139, 92, 246, 0.3),
    0 0 30px rgba(139, 92, 246, 0.2);
  animation: ghostFlicker 0.1s infinite alternate;
  width: 100%;
  word-wrap: break-word;
  white-space: normal;
  overflow-wrap: break-word;
  overflow: visible !important; /* No scrollbar in greeting */
  max-height: none !important;
}

/* Keep horror styling for all assistant messages */
.horror-typing p,
.horror-typing strong,
.horror-typing em {
  font-family: 'Creepster', cursive;
  letter-spacing: 1px;
  margin: 0;
  padding: 0;
}

/* Flickering effect like old horror movies */
@keyframes ghostFlicker {
  0% { 
    opacity: 0.95;
    filter: brightness(1);
  }
  25% { 
    opacity: 1;
    filter: brightness(1.1);
  }
  50% { 
    opacity: 0.98;
    filter: brightness(0.95);
  }
  75% { 
    opacity: 1;
    filter: brightness(1.05);
  }
  100% { 
    opacity: 0.97;
    filter: brightness(1);
  }
}

/* Haunted cursor - like a dripping blood or ghostly presence */
.horror-cursor {
  display: inline-block;
  width: 3px;
  margin-left: 3px;
  color: #A78BFA;
  font-weight: bold;
  animation: hauntedBlink 0.7s infinite, cursorGlow 2s infinite, cursorDrip 3s infinite;
  text-shadow: 
    0 0 10px #8B5CF6,
    0 0 20px #8B5CF6,
    0 0 30px #8B5CF6,
    0 0 40px rgba(139, 92, 246, 0.5);
  filter: blur(0.3px);
}

@keyframes hauntedBlink {
  0%, 49% { 
    opacity: 1;
    transform: scaleY(1);
  }
  50%, 100% { 
    opacity: 0.3;
    transform: scaleY(0.8);
  }
}

@keyframes cursorGlow {
  0%, 100% {
    text-shadow: 
      0 0 5px #8B5CF6,
      0 0 10px #8B5CF6;
  }
  50% {
    text-shadow: 
      0 0 15px #8B5CF6,
      0 0 25px #8B5CF6,
      0 0 35px #A78BFA,
      0 0 45px rgba(167, 139, 250, 0.5);
  }
}

@keyframes cursorDrip {
  0%, 90%, 100% {
    transform: scaleY(1) translateY(0);
  }
  95% {
    transform: scaleY(1.5) translateY(2px);
  }
}

/* Message bubble entrance with supernatural effect */
.message.assistant .bubble.horror-entrance {
  animation: ghostlyAppear 0.6s ease-out;
}

@keyframes ghostlyAppear {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.9);
    filter: blur(5px);
  }
  50% {
    opacity: 0.5;
    filter: blur(2px);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

/* Eerie glow effect for greeting message */
.horror-greeting-glow {
  position: relative;
}

.horror-greeting-glow::before {
  content: '';
  position: absolute;
  inset: -10px;
  background: radial-gradient(circle, rgba(139, 92, 246, 0.15) 0%, transparent 70%);
  animation: pulseGlow 3s infinite;
  pointer-events: none;
  z-index: -1;
}

@keyframes pulseGlow {
  0%, 100% {
    opacity: 0.5;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.1);
  }
}

/* Shaking effect for extra horror */
@keyframes hauntedShake {
  0%, 100% { transform: translateX(0); }
  10% { transform: translateX(-1px) rotate(-0.5deg); }
  20% { transform: translateX(1px) rotate(0.5deg); }
  30% { transform: translateX(-1px) rotate(-0.5deg); }
  40% { transform: translateX(1px) rotate(0.5deg); }
  50% { transform: translateX(-1px) rotate(-0.5deg); }
  60% { transform: translateX(1px) rotate(0.5deg); }
  70% { transform: translateX(-1px) rotate(-0.5deg); }
  80% { transform: translateX(1px) rotate(0.5deg); }
  90% { transform: translateX(-1px) rotate(-0.5deg); }
}
